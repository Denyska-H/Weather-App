(()=>{"use strict";const e=document.querySelector(".preloader"),t=document.querySelectorAll(".cities__city"),r=document.querySelector(".panel__search"),n=document.querySelector(".panel__submit"),a=document.querySelector(".wrapper"),c=document.querySelector(".weather-app__temp"),o=document.querySelector(".weather-app__name"),i=document.querySelector(".weather__condition"),d=document.querySelector(".weather-app__time"),u=document.querySelector(".weather-app__date"),s=document.querySelector(".weather__icon"),l=document.querySelector(".details__cloud"),y=document.querySelector(".details__humidity"),g=document.querySelector(".details__wind");let m="Kiev";const p=async()=>{try{const e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=0625d3d688f646f5841162138221105&q=${m}&days=1&aqi=no&alerts=no`),t=await e.json();_(t)}catch(e){alert("Can't find appropriate city, try again!"),a.style.opacity=1}},_=e=>{c.innerHTML=`${e.current.temp_c}&#176`,o.innerHTML=e.location.name,i.innerHTML=e.current.condition.text,l.innerHTML=`${e.current.cloud}%`,y.innerHTML=`${e.current.humidity}%`,g.innerHTML=`${e.current.wind_kph} km/h`;const t=e.location.localtime,r=parseInt(t.substr(0,4)),m=parseInt(t.substr(5,2)),p=parseInt(t.substr(8,2)),_=t.substr(11);var h,b,w;u.innerHTML=`${h=m,b=p,w=r,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(`${h}/${b}/${w}`).getDay()]} ${p}, ${m} ${r}`,d.innerHTML=_;const k=e.current.condition.icon.substr("//cdn.weatherapi.com/weather/64x64/".length);s.src=`dist/img/icons/${k}`;const S=e.current.condition.code;let $="day";e.current.is_day||($="night"),1e3===S?(a.style.backgroundImage=`url(dist/img/${$}/clear.jpg)`,n.style.background="#e5ba92","night"===$&&(n.style.background="#1E2950")):1003===S||1006===S||1009===S||1030===S||1069===S||1087===S||1135===S||1273===S||1276===S||1279===S||1282===S?(a.style.backgroundImage=`url(dist/img/${$}/cloudy.jpg)`,n.style.background="#fa6d1b","night"===$&&(n.style.background="#181e27")):1063===S||1069===S||1072===S||1150===S||1153===S||1180===S||1183===S||1186===S||1189===S||1192===S||1195===S||1204===S||1207===S||1240===S||1243===S||1246===S||1249===S||1252===S?(a.style.backgroundImage=`url(dist/img/${$}/rainy.jpg)`,n.style.background="#647d75","night"===$&&(n.style.background="#325c80")):(a.style.backgroundImage=`url(dist/img/${$}/snowy.jpg)`,n.style.background="#4d72aa","night"===$&&(n.style.background="#1b1b1b")),a.style.opacity=1};t.forEach((e=>{e.addEventListener("click",(e=>{m=e.currentTarget.innerHTML,p(),a.style.opacity=0}))})),p(),window.addEventListener("load",(()=>{e.classList.add("hide-preloader")})),n.addEventListener("click",(e=>{e.preventDefault();const t=e.currentTarget.previousElementSibling.value;m=t,p(),r.value=""}))})();